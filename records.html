<!DOCTYPE html>
<html>
<head>

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<!--<script src="static/js/jquery.min.js"></script>-->

<script src="static/js/purl.min.js"></script>

<script src="static/js/jquery.cookie.min.js"></script>

<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" rel="stylesheet">
<!--<link rel="stylesheet" type="text/css" href="static/css/bootstrap.min.css">-->
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
<!--<script src="static/js/bootstrap.min.js"></script>-->

<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
<!--<link rel="stylesheet" type="text/css" href="static/css/font-awesome.min.css">-->

<script src="static/js/jquery.bootstrap-growl.min.js"></script>

<script src="static/js/bootbox.min.js"></script>

<!--<link rel="stylesheet" type="text/css" href="static/css/jquery.dataTables.css">-->
<script src="//cdn.datatables.net/1.10.4/js/jquery.dataTables.min.js"></script>
<!--<script src="static/js/jquery.dataTables.min.js"></script>-->

<link rel="stylesheet" type="text/css" href="static/css/dataTables.bootstrap.min.css">
<script src="static/js/dataTables.bootstrap.min.js"></script>

<link rel="stylesheet" type="text/css" href="static/css/dataTables.responsive.min.css">
<script src="static/js/dataTables.responsive.min.js"></script>

<link rel="stylesheet" type="text/css" href="static/css/dataTables.tableTools.min.css">
<script src="static/js/dataTables.tableTools.min.js"></script>

<link rel="stylesheet" type="text/css" href="static/css/dataTables.fixedHeader.min.css">
<script src="static/js/dataTables.fixedHeader.min.js"></script>

<script src="static/js/rangyinputs-jquery.js"></script>

<link rel="stylesheet" type="text/css" href="css/main.css">
<script src="js/main.js"></script>

<style>
tr.group {
    background-color: #dddddd !important;
}

#form_table th, #form_table td {
    padding: 5px;
}

#example_filter input {
    width: 250px;
}

.dataTables_paginate li.paginate_button:nth-last-of-type(2) {
    display: none;
}

mark {
    background-color: rgba(243,228,48,0.25);
    color: inherit;
}
mark.hashtag {
    background-color: rgba(104,85,222,0.25);
    color: inherit;
}

a.place, a.url, a.user {
    cursor:pointer;
}

.popover {
    min-width: 500px;
    max-width: 500px;
}

.missing {
    color: #999;
}

/* Fix for Firefox */
.input-group .control-label .form-control, .control-label .input-group-addon, .control-label .input-group-btn {
    display: inherit;
}

tr.child span.dtr-title {
    width: 120px !important;
}
tr.child span.dtr-data {
    white-space: initial !important;
}
</style>

<script type="text/javascript" class="init">
$(document).ready(function() {
    $.getJSON("hosts.json", function(hosts) {
        var token = $.cookie("token");

        var db = $.url().param('db');
        var host = hosts[db].host;
        var dbName = hosts[db].name;

        var jsonp = hosts[db].jsonp;

        $("#queryPage").attr("title", dbName).attr("href", "query.html?db=" + db);

        var query = $.url().param('query');
        var yearFrom = $.url().param('from');
        /*
        if (!yearFrom) {
            yearFrom = 1900;
        }
        */
        var yearTo = $.url().param('to');
        /*
        if (!yearTo) {
            yearTo = new Date().getFullYear() - 1;
        }
        */

        document.title = "GeNA Miner -- " + query + " " + yearFrom + "-" + yearTo;
        $("h3").html(query + " (" + yearFrom + "-" + yearTo + ")");

        var tableHeaderTags = '<th class="all"></th>';
        for (var i = 0; i < hosts[db].columns.length; i++) {
            tableHeaderTags += '<th></th>';
        }
        $("#example thead tr").html(tableHeaderTags);

        var table = $('#example').DataTable( {
            dom: '<"expandAll">lfTrtip',
            tableTools: {
                "sSwfPath": "static/swf/copy_csv_xls_pdf.swf",
                "aButtons": [
                    {
                        "sExtends": "copy",
                        "sButtonText": "<span class=\"fa fa-clipboard\"></span> Copy Current",
                        "oSelectorOpts": {
                            page: 'current'
                        }
                    },
                    {
                        "sExtends": "csv",
                        "sButtonText": "<span class=\"fa fa-table\"></span> Save Current as CSV",
                        "oSelectorOpts": {
                            page: 'current'
                        }
                    }
                ]
            }, 

            "serverSide": true,
            "ajax": {
                "url": "http://" + host + "/main/load?token=" + token + "&query=" + encodeURIComponent(query) + "&from=" + encodeURIComponent(yearFrom) + "&to=" + encodeURIComponent(yearTo),
                "dataType": (jsonp ? "jsonp" : "json"),
                cache: true,
                jsonpCallback: "jsonpcallback_main", 
                "error": function(reason) {
                    alert("Error occurred!");
                }
            },

            "processing": true,
            "language": {
                "processing": "<div style=\"height: 100%; width: 100%; background-color: rgba(255, 255, 255, 0.85);\"><span class=\"fa fa-spinner fa-spin\"></span> Processing</div>", 
                "search": "", 
                "paginate": {
                    "previous": '<span class="fa fa-chevron-left"></span>', 
                    "next": '<span class="fa fa-chevron-right"></span>'
                }
            },
            "deferRender": true,
            "pageLength": 50,
            "pagingType": "simple_numbers",
            "lengthMenu": [[10, 50, 100, 500, 1000], [10, 50, 100, 500, 1000]],

            "responsive": {
                "details": {
                    type: 'column'
                    //target: 'tr'
                }
            },

            "columns": [{
                "width": "0px",
                "data": null,
                "defaultContent": '',
                "orderable": false,
                "class": 'control',
                "targets": 0
            }].concat(hosts[db].columns),
            "order": hosts[db].order,

            "drawCallback": function ( settings ) {
                if (!hosts[db].groupby) {
                    return;
                }

                var api = this.api();
                var rows = api.rows( {page:'current'} ).nodes();
                var last=null;

                var groupCol = hosts[db].order[0][0];

                api.column(groupCol, {page:'current'} ).data().each( function ( group, i ) {
                    if ( last !== group) {
                        $(rows).eq( i ).before(
                            '<tr class="group"><td colspan="10"><b>' + hosts[db].columns[groupCol - 1].title + ': </b>'+ group+ " <span class=\"caret\"></span>" +'</td></tr>'
                        );
     
                        last = group;
                    }
                } );
            }

        });
        $("div.expandAll").html('\
            <div class="btn-group" data-toggle="buttons">\
                <label class="btn btn-default btn-sm"><span class="fa fa-plus-square-o"></span> Expand All<input type="checkbox" id="expandAll"></label>\
            </div>\
        ');

        function expandAll(flag) {
            $('#example tbody tr[role="row"].parent td.control').trigger("click");
            if (flag) {
                $('#example tbody tr[role="row"] td.control').trigger("click");
            }
        }

        $('#expandAll').change(function() {
            expandAll(this.checked);
        });

        new $.fn.dataTable.FixedHeader( table );

        $(".DTTT_container").addClass("btn-group");
        $(".DTTT_container a").removeClass("DTTT_button");
        $(".DTTT_container a").addClass("btn btn-default btn-sm");
        $(".dataTables_length label").addClass("control-label");
        $(".dataTables_filter label").addClass("control-label");

        var filterValue = ""
        function search() {
            filterValue = $("#example_filter input").val();

            /*
            var columnRegex = /((?:\w|[_.])+):/g;
            var match = columnRegex.exec(filterValue);
            while (match != null) {
                if (!(match[1] in {"year":"", "id":"", "title":"", "source":"", "authors":"", "abstract":"", "keywords":""})) {
                    showAlert("Please check your inputs.<br/><br/>Wrong column name(s).", "danger");
                    $("#example_filter input").tooltip("show");
                    return;
                }

                match = columnRegex.exec(filterValue);
            }
            */

            $.ajax({
                dataType: (jsonp ? "jsonp" : "json"),
                jsonpCallback: "jsonpcallback_validate",
                cache: true,
                url: "http://" + host + "/main/load/validate?token=" + token + "&query=" + encodeURIComponent(query) + "&search=" + encodeURIComponent(filterValue), 
                success: function(j) {
                    if (j.valid) {
                        if ($("#example_filter input").val() != "") {
                            $('#example_filter').addClass("has-success");
                        }
                        else {
                            $('#example_filter').removeClass("has-success");
                        }
                        $('#example_filter').removeClass("has-error");

                        table.search(filterValue).draw();
                    }
                    else {
                        $('#example_filter').removeClass("has-success");
                        $('#example_filter').addClass("has-error");

                        showAlert("Please check your inputs.<br/><br/>Wrong query syntax.", "danger");
                    }
                }
            });
        };

        var popoverShown = false;
        function closePopover() {
            if (popoverShown) {
                popoverShown = false;
                $('#example_filter input').popover('hide').animate({
                    "width": "250px"
                }, 200);
                $("#example_filter_clear").hide();
            }
        }

        $("#example_filter").addClass("input-group");
        $("#example_filter input").before('<span id="example_filter_clear" class="btn btn-clipboard btn-xs" style="display:none; position:absolute; top:4px; right:36px; z-index:200;">Clear</span>');
        $("#example_filter input").after("<div class=\"input-group-btn\"><button id=\"example_filter_searchicon\" class=\"btn btn-info btn-sm\"><span class=\"fa fa-search\"></span></button></div>").attr("placeholder", "Search");
        $('#example_filter input').unbind().bind('keyup', function(e) {
            if(e.keyCode == 13) {
                search();

                closePopover();
                setTimeout(function() {
                    $('#example_filter button').focus();
                }, 0);
            }
        });
        $("#example_filter_searchicon").click(function() {
            search();

            closePopover();
        });
        $("#example_filter_clear").click(function() {
            $("#example_filter input").val("");
            search();

            setTimeout(function() {
                $('#example_filter input').focus();
            }, 0);
        });

        $("#example_length select").attr("title", "Show all entries may freeze your browser");
        $(".breadcrumb [title]").tooltip({placement: "bottom", html: true, container: 'body'});
        $("[title]").tooltip({placement: "top", html: true, container: 'body', trigger: "focus"});

        function getPopoverButtons() {
            var buttonGroups = [];

            var offset = 0;
            $.each(hosts[db].buttonGroups, function(i, v) {
                var buttons = ""
                $.each(hosts[db].columns.slice(offset, offset + v), function(i, v) {
                    if (!v.unsearchable) {
                        buttons += '<a class="btn btn-clipboard btn-xs">' + v.data + ':<\/a>';
                    }
                });
                buttonGroups.push('<span class="btn-group">' + buttons + '<\/span>');
                offset += v;
            });

            return buttonGroups.join('<br/>');
        }

        $("#example_filter input").attr("data-trigger", "manual").attr("data-delay", '{"show": 200, "hide": 0}').attr("data-content", 
            '\
            <h5><small>Column</small></h5>\
            <p>' + getPopoverButtons() + '</p>\
            <table><tr><td>\
            <h5><small>Boolean Operator</small></h5>\
            <p><table><tr><td><span class="btn-group"><a class="btn btn-clipboard btn-xs">AND</a><a class="btn btn-clipboard btn-xs">OR</a><a class="btn btn-clipboard btn-xs">NOT</a></span></td><td style="width:10px;"></td><td><span class="btn-group"><a class="btn btn-clipboard btn-xs">(</a><a class="btn btn-xs disabled">...</a><a class="btn btn-clipboard btn-xs">)</a></span></td></tr></table></p>\
            </td><td style="width:20px;"></td><td>\
            <h5><small>Column Operator</small></h5>\
            <p><table><tr><td><span class="btn-group"><a class="btn btn-clipboard btn-xs">_exists_:</a><a class="btn btn-clipboard btn-xs">_missing_:</a></span></td></tr></table></p>\
            </td></tr></table></p>\
            <h5><small>Basic</small></h5>\
            <p><code><b>word</b></code> -- Match <b>word</b> as keyword</p>\
            <p><code>"<b>word1 word2 ...</b>"</code> -- Match <b>word1 word2 ...</b> as phrase (for query with space)</p>\
            <p><code><u>col</u>:<b>query</b></code> -- Match <b>query</b> (any type) on column <u>col</u></p>\
            <p><code>_exists_:<u>col</u></code> | <code>_missing_:<u>col</u></code> -- (Has | Does have) any value on column <u>col</u></p>\
            <h5><small>Wildchar, Fuzziness, and Distance</small></h5>\
            <p><code><b>wo</b>?<b>d</b></code>, <code><b>wor</b>*</code> -- Match <b>word</b> with wildchar</p>\
            <p><code><b>word</b>~</code> -- Match <b>word</b> with fuzziness</p>\
            <p><code>"<b>word1 word2 ...</b>"~<i>d</i></code> -- Match <b>word1 word2 ...</b> with at most <i>d</i> words in between</p>\
            <h5><small>Range</small></h5>\
            <p><code>[<b>a</b> TO <b>b</b>]</code> -- Match range from <b>a</b> to <b>b</b></p>\
            <p style="text-align:right;"><a href="http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html#query-string-syntax" target="_blank"><span class="fa fa-book"></span> Reference</a></p>\
            '
        ).popover({
            placement: "bottom", html: true, container: 'body'
        }).focus(function() {
            if (!popoverShown) {
                popoverShown = true;
                $(this).animate({
                    "width": "500px"
                }, 200, function() {
                    $(this).popover("show");
                    if ($(this).val() != "") {
                        $("#example_filter_clear").show();
                    }
                });
            }
        }).on("input", function(e) {
            if ($(this).val() != "") {
                $("#example_filter_clear").show();
            }
            else {
                $("#example_filter_clear").hide();
            }
        });
        $(document).on('click', function(e) {
            if (!($(e.target).parents().is('.popover') || $(e.target).is('#example_filter input'))) {
                closePopover();
            }
        }).keydown(function(e) {
            if (e.keyCode === 27) {
                closePopover();
            }
        }).on("click", ".popover a.btn", function() {
            var text = $(this).text();

            setTimeout(function() {
                $("#example_filter input").focus().replaceSelectedText(text);
            }, 0);
        });

        table.on('draw.dt', function () {
            if (!hosts[db].searchOnly) {
                $("#form_divmask").hide();
            }

            expandAll($("#expandAll").prop("checked"));

            $("a.user, a.place").each(function() {
                $(this).attr("data-url", $(this).attr("href"));
            }).removeAttr("href").click(function() {
                window.open($(this).attr("data-url"), "", "width=" + $(this).attr("data-width") + ",height=" + $(this).attr("data-height"));
            });

            $("a.url").attr("target", "_blank");

            $("a.place").html(function() {
                return $(this).html() + ' <span class="fa fa-map-marker"><\/span>';
            });

            if (db == "twitter") {
                $("#example tbody td:nth-child(5)").each(function() {
                    var type = $(this).text()
                    var html = $(this).html()
                    if (type == "retweet") {
                        $(this).html(html + ' <span class="fa fa-retweet"><\/span>');
                    }
                    else if (type == "reply") {
                        $(this).html(html + ' <span class="fa fa-reply"><\/span>');
                    }
                    else if (type == "mention") {
                        $(this).html(html + ' <span class="fa fa-user-plus"><\/span>');
                    }
                    else {
                        $(this).html("");
                    }
                });

                $("a.url[title]").each(function() {
                    var type = $(this).attr("data-type");
                    var title = $(this).attr("title");
                    if (type == "link") {
                        $(this).attr("title", title + ' <span class="fa fa-chain"><\/span>');
                    }
                    else if (type == "media") {
                        $(this).attr("title", title + ' <span class="fa fa-photo"><\/span>');
                    }
                });

                $("#example tbody td:nth-child(7) a").attr("target", "_blank");
            }

            $("a.url[title], a.place[title]").tooltip({placement: "bottom", html: true, container: 'body'});
        }).on('click', 'td.control', function () {
            setTimeout(function() {
                $("tr.child a.user, tr.child a.place").each(function() {
                    $(this).attr("data-url", $(this).attr("href"));
                }).removeAttr("href").click(function() {
                    window.open($(this).attr("data-url"), "", "width=" + $(this).attr("data-width") + ",height=" + $(this).attr("data-height"));
                });

                $("tr.child a.url").attr("target", "_blank");
            }, 0);
        });

        $("input[name='db']").val(db);
        $("input[name='query']").val(query);
        $("input[name='from']").val(yearFrom);
        $("input[name='to']").val(yearTo);

        $('#trend_interval').val(5);
        $('#trend_form').submit( function (e) {
            if (!isIntWithMinVal($('#trend_interval').val(), 1)) {
                showAlert("Please check your inputs.", "danger");
                $("#trend_interval").tooltip("show");
                $("#trend_form").addClass("has-error");
                e.preventDefault();
                return;
            }
        });

        $('#theme_uploadform').attr("action", "http://" + host + "/theme/file/upload?token=" + token);
        $('#theme_uploadstatus').val($.url().attr("protocol") + "://" + $.url().attr("host") + ":" + $.url().attr("port") + "/theme_upload.html");

        $('#topk_k').val(10);
        $('#topk_minlen').val(1);
        $('#topk_maxlen').val(5);

        $('#topk_form').submit( function (e) {
            if (!isIntWithMinVal($('#topk_k').val(), 1)) {
                showAlert("Please check your inputs.", "danger");
                $("#topk_k").tooltip("show");
                $("#topk_form").addClass("has-error");
                e.preventDefault();
                return;
            }
            if (!isIntWithMinVal($('#topk_minlen').val(), 1)) {
                showAlert("Please check your inputs.", "danger");
                $("#topk_minlen").tooltip("show");
                $("#topk_form").addClass("has-error");
                e.preventDefault();
                return;
            }
            if (!isIntWithMinVal($('#topk_maxlen').val(), 1)) {
                showAlert("Please check your inputs.", "danger");
                $("#topk_maxlen").tooltip("show");
                $("#topk_form").addClass("has-error");
                e.preventDefault();
                return;
            }
            if ($('#topk_minlen').val() > $('#topk_maxlen').val()) {
                showAlert("Please check your inputs.", "danger");
                $("#topk_minlen").tooltip("show");
                $("#topk_maxlen").tooltip("show");
                $("#topk_form").addClass("has-error");
                e.preventDefault();
                return;
            }
        });

        $('#topic_k').val(5);
        $('#topic_wordnum').val(10);

        $('#topic_form').submit( function (e) {
            if (!isIntWithMinVal($('#topic_k').val(), 1)) {
                showAlert("Please check your inputs.", "danger");
                $("#topic_k").tooltip("show");
                $("#topic_form").addClass("has-error");
                e.preventDefault();
                return;
            }
            if (!isIntWithMinVal($('#topic_wordnum').val(), 1)) {
                showAlert("Please check your inputs.", "danger");
                $("#topic_wordnum").tooltip("show");
                $("#topic_form").addClass("has-error");
                e.preventDefault();
                return;
            }
        });

        function updateThemeList() {
            $.ajax({
                dataType: "jsonp",
                jsonpCallback: "jsonpcallback_themelist",
                url: "http://" + host + "/theme/file/list?token=" + token, 
                success: function(j) {
                    list = j.data;
                    var options = '';

                    toggleDisabled($("#theme_form button, #theme_othersdiv button"), list.length == 0);
                    if (list.length > 0) {
                        for (var i = 0; i < list.length; i++) {
                            options += '<option value="' + list[i] + '">' + list[i] + '</option>';
                        }
                    }
                    $("select#theme_list").html(options);
                }
            });
        }
        function getThemeListSelected() {
            return $('#theme_list').find(":selected").text()
        }

        updateThemeList();

        $('#theme_view').click( function () {
            var file = getThemeListSelected();
            showAlert("Dictionary <b>" + file + "</b> has been downloaded.", "info");
            window.location.href = "http://" + host + "/theme/file/view?token=" + token + "&name=" + file;
        });
        $('#theme_delete').click( function () {
            var file = getThemeListSelected();
            bootbox.dialog({
                message: 'Are you sure you want to delete dictionary <b>' + file + "</b>?",
                title: "Confirm",
                onEscape: function() {},
                buttons: {
                    cancel: {
                        label: "Cancel",
                        className: "btn-default"
                    },
                    danger: {
                        label: "<span class=\"fa fa-trash-o\"></span> Delete",
                        className: "btn-danger",
                        callback: function() {
                            $.getJSON("http://" + host + "/theme/file/delete?token=" + token + "&callback=?", 
                                {
                                    "name": file
                                }, 
                                function(j){
                                    updateThemeList();
                                    showAlert("Dictionary <b>"+ file + "</b> has been deleted.", "info");
                                }
                            );
                        }
                    }
                }
            });
        });
        $("#theme_uploaddiv").hide();
        $('#theme_showupload').click( function () {
            $("#theme_showupload").hide();
            $("#theme_uploaddiv").fadeIn(400);
        });
        $("#theme_uploadblank").load(function(){
            updateThemeList();

            var currFile = $("#theme_uploadinput").val().split('\\').slice(-1);
            showAlert("Dictionary <b>" + currFile + "</b> has been uploaded.", "info");
        });
        $("#theme_uploadinput").change(function() {
            var currFile = this.value.split('\\').slice(-1);
            if (currFile !== "") {
                $("#theme_uploadfile").html(currFile);
            }
            else {
                $("#theme_uploadfile").html("No file chosen");
            }

            toggleDisabled($("#theme_uploadsubmit"), currFile == "");
            if (currFile == "") {
                $("#theme_uploadsubmit").tooltip("hide");
            }
            else {
                $("#theme_uploadsubmit").tooltip("show");
            }
        });
        $("#theme_uploadfile").html("No file chosen");

        table.on('preXhr.dt', function ( e, settings, data ) {
            $("#example_processing div").fadeIn(800);
        });
        table.on('xhr.dt', function ( e, settings, data ) {
            $( "#example_processing div").hide();
        });
    });
});

</script>

</head>
<body>
<ol class="breadcrumb">
    <li><a href="/"><span class="fa fa-home" title="Home"></span></a></li>
    <li><a href="query.html" id="queryPage">Query</a></li>
    <li class="active">Records</li>
</ol>

<div class="beta-ribbon-wrapper"><div class="beta-ribbon"><a href="http://www.genalab.org/">GeNA Lab</a></div></div>

<div class="container-fluid">

<h3>
</h3>

<div class="block" id="form_div" style="width:100%;">
    <div id="form_divmask" style="position:absolute; z-index: 1000; top: 0px; left: 0px; width: 100%; height: 100%; background-color: rgba(255, 255, 255, 0.8); "></div>
    <table id="form_table" style="width:100%; ">
        <col width="400px">
        <col>
        <tr>
            <td>
                <div style="display:inline-block;">
                    <form class="form-inline" id="trend_form" action="trend.html" method="get">
                        <input type="hidden" name="db"></input>
                        <input type="hidden" name="query"></input>
                        <input type="hidden" name="from"></input>
                        <input type="hidden" name="to"></input>
                        <label class="control-label">Year Interval: </label>
                        <input class="form-control input-sm" id="trend_interval" style="width:50px;" maxlength="4" name="interval" title="Greater than or equal to 1"></input>
                        <button class="btn btn-primary btn-sm" type="submit"><span class="fa fa-bar-chart"></span> Trend</button>
                    </form>
                </div>
            </td>
            <td>
                <div style="display:inline-block;">
                    <div style="display:inline-block;">
                        <form class="form-inline" id="theme_form" action="theme.html" method="get">
                            <input type="hidden" name="db"></input>
                            <input type="hidden" name="query"></input>
                            <input type="hidden" name="from"></input>
                            <input type="hidden" name="to"></input>
                            <label class="control-label">Dictionary: </label>
                            <select class="form-control input-sm" id="theme_list" name="name" style="width:250px;"></select>
                            <button class="btn btn-primary btn-sm" type="submit"><span class="fa fa-pie-chart"></span> Visualize</button>
                        </form>
                    </div>
                    <div style="display:inline-block;">
                        |
                        <div id="theme_othersdiv" style="display: inline-block;">
                            <button class="btn btn-info btn-sm" id="theme_view"  type="button"><span class="fa fa-download"></span> View</button>
                            <button class="btn btn-danger btn-sm" id="theme_delete"  type="button"><span class="fa fa-trash-o"></span> Delete</button>
                        </div>
                        <button class="btn btn-warning btn-sm" id="theme_showupload" type="button"><span class="fa fa-upload"></span> New</button>
                        <div id="theme_uploaddiv" style="display: inline-block;">
                            <iframe id="theme_uploadblank" name="uploadBlank" height="0" width="0" frameborder="0" scrolling="yes" style="display:none;"></iframe>
                            <form class="form-inline" id="theme_uploadform" method="post" enctype="multipart/form-data" style="display:inline-block" target="uploadBlank">
                                <input id="theme_uploadstatus" type="hidden" name="root"></input>
                                <div class="btn-group">
                                    <button id="theme_uploadsubmit" class="btn btn-warning btn-sm disabled" type="submit" title="Upload the selected file"><span class="fa fa-upload"></span> Upload</button>
                                    <span class="btn btn-default btn-sm btn-file" title="CSV file only">
                                        Browse ...
                                        <input id="theme_uploadinput" type="file" name="file" accept=".csv" tabindex="0"></input>
                                    </span>
                                    <span class="btn btn-sm disabled" id="theme_uploadfile"></span>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </td>
        </tr>
        <tr>
            <td>
                <div style="display:inline-block;">
                    <form class="form-inline" id="topic_form" action="topic.html" method="get">
                        <input type="hidden" name="db"></input>
                        <input type="hidden" name="query"></input>
                        <input type="hidden" name="from"></input>
                        <input type="hidden" name="to"></input>
                        <label class="control-label">k: </label>
                        <input class="form-control input-sm" id="topic_k" style="width:50px;" name="k" title="Greater than or equal to 1"></input>
                        <label class="control-label">#Word per Topic: </label>
                        <input class="form-control input-sm" id="topic_wordnum" style="width:50px;" name="wordnum" title="Greater than or equal to 1"></input>
                        <button class="btn btn-primary btn-sm" type="submit"><span class="fa fa-th"></span> Top-k Topics</button>
                    </form>
                </div>
            </td>
            <td>
                <div style="display:inline-block;">
                    <form class="form-inline" id="topk_form" action="topk.html" method="get">
                        <input type="hidden" name="db"></input>
                        <input type="hidden" name="query"></input>
                        <input type="hidden" name="from"></input>
                        <input type="hidden" name="to"></input>
                        <label class="control-label">k: </label>
                        <input class="form-control input-sm" id="topk_k" style="width:50px;" name="k" title="Greater than or equal to 1"></input>
                        <label class="control-label">#Word per Phrase: </label>
                        <input class="form-control input-sm" id="topk_minlen" style="width:50px;" name="minlen" title="Greater than or equal to 1"></input> - <input class="form-control input-sm" id="topk_maxlen" style="width:50px;" name="maxlen" title="Greater than or equal to 1"></input>
                        <button class="btn btn-primary btn-sm" type="submit"><span class="fa fa-th"></span> Top-k Co-occurrences</button>
                    </form>
                </div>
            </td>
        </tr>
    </table>
</div>

<div class="block" style="width:100%;">
    <table id="example" class="table table-hover" cellspacing="0" width="100%">
        <thead>
            <tr>
            </tr>
        </thead>

    </table>
</div>

</div>
</body>
</html>

